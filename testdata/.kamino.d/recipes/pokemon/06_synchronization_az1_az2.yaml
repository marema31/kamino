---
priority: 6
name: "synchronization"
type: "sync"
source: 
  type: "database"
  tag: "pokemon.source"
  table: "pokemon"
cache: 
  type: "json"
  file: "testdata/tmp/pokemon_cache.json"
  ttl: "3m"
filters:
  - type: "only"
    parameters: 
      - "id"
      - "pokedex_id"
      - "name"
      - "hp"
      - "type1"
      - "type2"
      - "attack"
      - "defense"
      - "speed"
      - "generation"
      - "legendary"
  - type: "replace"
    parameters:
      - "type2": "ninja"
      - "hp": "100"
destinations:
  - type: "database"
    tags: ["pokemon","copy", "!az3"]
    table: "pokemon"
    key: "id"
    mode: "replace"
  - type: "database"
    tags: ["pokemon","copy2"]
    table: "pokemon"
    key: "id"
    mode: "OnlyIfEmpty"
  - type: "json"
    file: "testdata/tmp/dest.json.gz"
    gzip: true
  - type: "yaml"
    file: "testdata/tmp/dest.yaml"
  - type: "csv"
    file: "testdata/tmp/dev.csv.zip"
    zip: true
